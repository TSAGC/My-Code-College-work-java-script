<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- <script>
        console.log("Start of script");

        setTimeout(function () {
            console.log("First timeout completed");
        }, 2000);

        console.log("End of script");
    </script> -->


    <script>//call back function

        function fetchData(callback) {
            setTimeout(() => {
                const data = { name: "John", age: 30 };
                callback(data);
            }, 3000);
        }

        //callback
        fetchData(function (data) {
            console.log(data);
        });

        console.log("Data is being fetched...");
    </script>


    <script>
        // a example of call back Hell !!!
        getData(function (a) {
            getMoreData(a, function (b) {
                getEvenMoreData(b, function (c) {
                    getEvenEvenMoreData(c, function (d) {
                        getFinalData(d, function (finalData) {
                            console.log(finalData);
                        });
                    });
                });
            });
        });
    </script>

    <script>
        //promise
        // To create a promise, you'll create a new instance
        //  of the Promise object by calling the Promise
        //   constructor.
        // The constructor takes a single argument: a function
        //  called executor. The "executor" function is called 
        //  immediately when the promise is created, and it takes
        //   two arguments: a resolve function and a reject 
        //   function.

        //eg 
        // const myPromise = new Promise(function (resolve, reject) => { })
        console.log(myPromise);
        const myPromise = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve("Hello from the promise!");
            }, 2000);
        });


        myPromise
            .then((result) => {
                console.log(result);
            })
            .catch((error) => {
                console.log(error);
            });

        myPromise
            .then((result) => {
                console.log(result);
            })
            .catch((error) => {
                console.log(error);
            })
            .finally(() => {
                //code here will be executed regardless of the status
                //of a promise (fulfilled or rejected)
            });


        fetch('https://example.com/data')
            .then(response => response.json())
            .then(data => processData(data))
            .then(processedData => {
                // do something with the processed data
            })
            .catch(error => console.log(error))


        fetch("https://api.github.com/users/octocat")
            .then((response) => response.json())
            .then((data) => {
                try {
                    //processing received data
                    console.log(data);
                } catch (error) {
                    console.log(error);
                }
            })
            .catch((error) => console.log(error));
    </script>

    <script>
        let promise1 = fetch('https://jsonplaceholder.typicode.com/posts/1');
        let promise2 = fetch('https://jsonplaceholder.typicode.com/posts/2');
        let promise3 = fetch('https://jsonplaceholder.typicode.com/posts/3');

        Promise.all([promise1, promise2, promise3]);

        Promise.all([promise1, promise2, promise3])
            .then((values) => {
                console.log(values);
            })
    </script>

    <script>
        fetch('https://some-api.com/data')
            .then(response => response.json())
            .then(data => {
                console.log(data);
            })
            .catch(error => {
                console.error('Error:', error);
            }); 
    </script>

    <script>
        async function getData() {
            const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
            const data = await response.json();
            console.log(data);
        }

        getData();
    </script>
</body>

</html>